<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="fs_path" content="/Philosophy.md">
    
    <title>Philosophy - Bash Shell Libraries</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/bashlibs/markpub_static/css/style.css">
    <link rel="stylesheet" href="/bashlibs/markpub_static/css/forte.css">
    <link rel="stylesheet" href="/bashlibs/markpub_static/css/custom.css">
    <link rel="stylesheet" href="https://unpkg.com/bluesky-comments@0.12.0/dist/bluesky-comments.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.9/lunr.min.js"></script>
    <script src="/bashlibs/lunr-index-1767303993.389205.js"></script>
    <script>var index = lunr.Index.load(lunr_index)</script>
    
    
    <script src="/bashlibs/lunr-posts-1767303993.389205.js"></script>
    <script> function randomPageLink() { return "/bashlibs"+lunr_posts[Math.floor(Math.random() * lunr_posts.length)].link; } </script>
    
  </head>
<body class="font-roboto text-gray-800 bg-gray-50 leading-relaxed">
  <!-- Header -->
    <header id="header" class="bg-gradient-to-r from-blue-500 to-blue-600 border-b-2 border-blue-700 px-4 py-3 sm:px-6">
    <div class="flex items-center">
      <button id="hamburger-btn" class="hidden text-white text-2xl mr-3 hover:text-blue-100 transition-colors" aria-label="Toggle menu">
        &#9776;
      </button>
      <a id="header-link" href="/bashlibs/index.html" 
         class="text-white text-2xl font-light font-roboto uppercase tracking-wide hover:text-blue-100 transition-colors no-underline">
        Bash Shell Libraries
      </a>
    </div>
  </header>

  <!-- Main Container -->
  <div id="flex-container" class="flex max-w-full px-4 sm:px-6 lg:px-8">
    <!-- Sidebar -->
    <aside id="side-column" class="bg-white min-w-48 max-h-[80vh] p-5
				   mr-4 overflow-y-auto border-r
				   border-gray-300 shadow-sm rounded-md">
      <div class="mb-4">
        <button id="hide-btn" class="px-3 py-1 text-xs uppercase tracking-wider font-trebuchet bg-blue-100 text-gray-700 border border-blue-200 rounded-md hover:bg-blue-200 transition-colors mr-2">
          Hide
        </button>
        <button id="move-btn" class="hidden px-3 py-1 text-xs uppercase tracking-wider font-trebuchet bg-blue-100 text-gray-700 border border-blue-200 rounded-md hover:bg-blue-200 transition-colors">
          Move to Sidebar
        </button>
      </div>
      <div class="sidebar-content">
        <h3>Site Navigation</h3>
<div class="navlinks">
<ul>
<li><a class="wikilink" href="/bashlibs/README.html">HOME</a></li>
<li><a href="/bashlibs/search.html">SEARCH</a></li>
<li><a href="/bashlibs/all-pages.html">ALL PAGES</a></li>
<li><a href="/bashlibs/recent-pages.html">RECENT CHANGES</a></li>
</ul>
</div>
<div class="navlinks">
  <button onclick="location.href=`${randomPageLink()}`">
    RANDOM PAGE
  </button>
</div>

      </div>
    </aside>

    <!-- Main Content -->
    <main id="main-column" class="max-w-3xl bg-white px-5 py-0 pb-5 flex-grow ml-8 shadow-sm rounded-lg">
      
      <div class="flex justify-end mb-4 pt-4">
        <a target="_blank" href="https://github.com/band/bashlibs/edit/main/Philosophy.md" 
           class="inline-block px-3 py-1 bg-blue-100 border border-blue-200 text-gray-700 text-sm font-trebuchet rounded-lg hover:bg-blue-200 transition-colors no-underline">
          Edit on GitHub
        </a>
      </div>
      
      
      <div class="prose prose-gray max-w-none">
        <h1>Function Philosophy</h1>
<p>TODO: (2025-12-02) figure out how to use or replace the <code>!include ...</code> shell code snippets.</p>
<p>Here is the <a href="./Development.html">Table of Contents</a>.</p>
<p>Is there a "function philosophy"?  Raising the question makes it so,
provided the questions lead to a useful outlook on the subject of
functions.</p>
<p>Let us raise a few philosophic questions about shell functions.</p>
<p>First of all, a function is meant to do one thing well with few side
effects.  This suggests size may be a constraint.  I like to think
that if a function has control flow statements, it should have but one.</p>
<p>On the subject of size, it is possible to have an <strong>awk</strong> script inside a
function; at some point it makes sense to put the <strong>awk</strong> script in a
separate file.  I've not developed a hard and fast practice about how
large an awk script is before it needs its own file.</p>
<p>An issue for a shell function is how well documented must it be.
I'd like to think functions are self-documenting, easily understood by reading the code.
We will go through a sequence of documentation features for a
function.  These features would seem to place a performance penalty on
the function.  Before we are through, we will run a few timing tests on
that prospect.
The philosophic question in this chapter is <em>How to fulfill, and
what features serve, the objective of sufficiently documented
function</em>?</p>
<h2>An Example</h2>
<p>Since we claim a philosophical point here, and we are talking code, a
famous challenge in any language is a <a href="https://en.wikipedia.org/wiki/Quine_(computing)">quine
program</a>.  We will base
our example on a function that may be called a <code>quine</code> since, in its
fullest form, it does not require external input, though it does depend on
the shell <code>Environment</code>.</p>
<p>That function is <code>aFunctionBody</code> so named because it shows its own source:</p>
<pre><code class="language-sh">!include ./src/shell/aFunctionBody
</code></pre>
<p>and here is its execution, which produced the file displaying the result:</p>
<pre><code>$ aFunctionBody  | tee shell/aFunctionBody 
aFunctionBody () 
{ 
    : writes itself on the output;
    declare -f aFunctionBody
}

</code></pre>
<p>This chapter introduces a more practical name for such a function, which
we call <code>fbdy</code>, pronounced by saying the letters.   This is a good place
to introduce a practice of naming functions.  The higher principles are</p>
<p>A function name should:</p>
<ol>
<li>say <strong>what</strong> the function does, possibly naming what it may <strong>produce</strong>;</li>
<li>not necessarily say <strong>how</strong> it does it;</li>
<li>be <strong>concise</strong>;</li>
<li>reflect higher-level naming requirements (TODO: explain this).</li>
</ol>
<h2>Practical Application</h2>
<p>This leads us to a much-used function to display the function bodies
of it's arguments (TODO: fix this sentence).  It is called <strong>F</strong>unction<strong>B</strong>o<strong>DY</strong>.  We will go
through a sequence of steps, adding a feature at a time, a line at a
time.</p>
<h3>simple</h3>
<p>The elementary function is shown here.  Each of the subsequent
steps add a concept, where the link to the concept is being developed
below.</p>
<pre><code class="language-sh">!include ./src/shell/fbdy_simple
</code></pre>
<p>Here the <code>$@</code> syntax is a shorthand for <code>$1 $2 $3 ...</code>, which means
<em>all the arguments to the function</em>.</p>
<h3>abstract</h3>
<p>Now introduce an abstract,</p>
<pre><code class="language-sh">!include ./src/shell/fbdy_abstract
</code></pre>
<p>Where we'll see that an <code>abstract</code> is the first line of a function's
<code>shdoc</code>, or <strong>sh</strong>ell <strong>doc</strong>umentation.  More on that subject in its
own chapter.</p>
<h3>default</h3>
<p>Next add the syntax to permit a default argument.</p>
<pre><code class="language-sh">!include ./src/shell/fbdy_default
</code></pre>
<p>which in this case is the function itself. If no arguments are
supplied, then display <code>fbdy</code> itself, otherwise, display the bodies
of function arguments.</p>
<h3>tag</h3>
<p>To introduce the concept of a function <code>tag</code>, in this case the <em>date</em>
the function was recently updated.</p>
<pre><code class="language-sh">!include ./src/shell/fbdy_tag
</code></pre>
<h2>The SHell DOCumentation</h2>
<p>Shell functions each have their <code>shdoc</code> and there is a function to
extract it.  The idea arose from <em>javacoc, perldoc,</em> ... It uses the
first <code>null-command</code> lines of the function, which must be the first
lines of the function.  The first line of the function is the
function's <code>abstract</code>. Any <code>tag</code>s the function uses follow the <code>shdoc</code>
and any <code>date</code> tags follow the remaining <code>tags</code> and precede the
function code.</p>
<p>Null-commands may be placed throughout the function code, but are not
considered part of the function's <code>shdoc</code>.</p>
<p>Use of the null-command carries with it some cautionary warnings, covered in <a href="./TheNullCommand.html">The Null Command</a></p>
<h2>Reference</h2>
<ul>
<li>date stamp</li>
<li>function body</li>
<li>myname</li>
<li>parameter substitution</li>
<li>usage</li>
</ul>
<h2>Definition</h2>

      </div>
      
      
      <hr class="my-6 border-gray-300">
      <div>
        <h4 class="text-lg font-semibold font-trebuchet text-gray-700 mb-3">Pages that link to this page</h4>
        <ul class="list-disc pl-5 space-y-1">
          
          <li><a href="/bashlibs/ndx-root.html" class="text-blue-600 hover:text-blue-800 transition-colors">ndx-root</a></li>
          
        </ul>
      </div>
      
    </main>
  </div>
  <script src="/bashlibs/markpub_static/js/script.js"></script>
  
  <footer class="bg-gray-100 py-8 mt-12">
  <div class="text-center text-gray-600 space-y-1">
    
    <div><strong class="font-semibold text-gray-800">Bash Shell Libraries</strong> by Martin J. McGowan, III and William L. Anderson.</div>
    
    
    <div>Central repository at <a href="https://github.com/band/bashlibs">bashlibs</a>.</div>
    
    
    <div>Licensed under <a href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.</div>
    
    <div class="text-sm italic">Site last updated on Thursday, January 01, 2026 at 21:46 UTC.</div>
  </div>
</footer>
</body>
</html>