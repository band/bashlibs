<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="fs_path" content="/WhatIsDifferent.md">
    
    <title>WhatIsDifferent - Bash Shell Libraries</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/bashlibs/markpub_static/css/style.css">
    <link rel="stylesheet" href="/bashlibs/markpub_static/css/forte.css">
    <link rel="stylesheet" href="/bashlibs/markpub_static/css/custom.css">
    <link rel="stylesheet" href="https://unpkg.com/bluesky-comments@0.12.0/dist/bluesky-comments.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.9/lunr.min.js"></script>
    <script src="/bashlibs/lunr-index-1769546972.8448322.js"></script>
    <script>var index = lunr.Index.load(lunr_index)</script>
    
    
    <script src="/bashlibs/lunr-posts-1769546972.8448322.js"></script>
    <script> function randomPageLink() { return "/bashlibs"+lunr_posts[Math.floor(Math.random() * lunr_posts.length)].link; } </script>
    
  </head>
<body class="font-roboto text-gray-800 bg-gray-50 leading-relaxed">
  <!-- Header -->
    <header id="header" class="bg-gradient-to-r from-blue-500 to-blue-600 border-b-2 border-blue-700 px-4 py-3 sm:px-6">
    <div class="flex items-center">
      <button id="hamburger-btn" class="hidden text-white text-2xl mr-3 hover:text-blue-100 transition-colors" aria-label="Toggle menu">
        &#9776;
      </button>
      <a id="header-link" href="/bashlibs/index.html" 
         class="text-white text-2xl font-light font-roboto uppercase tracking-wide hover:text-blue-100 transition-colors no-underline">
        Bash Shell Libraries
      </a>
    </div>
  </header>

  <!-- Main Container -->
  <div id="flex-container" class="flex max-w-full px-4 sm:px-6 lg:px-8">
    <!-- Sidebar -->
    <aside id="side-column" class="bg-white min-w-48 max-h-[80vh] p-5
				   mr-4 overflow-y-auto border-r
				   border-gray-300 shadow-sm rounded-md">
      <div class="mb-4">
        <button id="hide-btn" class="px-3 py-1 text-xs uppercase tracking-wider font-trebuchet bg-blue-100 text-gray-700 border border-blue-200 rounded-md hover:bg-blue-200 transition-colors mr-2">
          Hide
        </button>
        <button id="move-btn" class="hidden px-3 py-1 text-xs uppercase tracking-wider font-trebuchet bg-blue-100 text-gray-700 border border-blue-200 rounded-md hover:bg-blue-200 transition-colors">
          Move to Sidebar
        </button>
      </div>
      <div class="sidebar-content">
        <h3>Site Navigation</h3>
<div class="navlinks">
<ul>
<li><a class="wikilink" href="/bashlibs/README.html">HOME</a></li>
<li><a href="/bashlibs/search.html">SEARCH</a></li>
<li><a href="/bashlibs/all-pages.html">ALL PAGES</a></li>
<li><a href="/bashlibs/recent-pages.html">RECENT CHANGES</a></li>
</ul>
</div>
<div class="navlinks">
  <button onclick="location.href=`${randomPageLink()}`">
    RANDOM PAGE
  </button>
</div>

      </div>
    </aside>

    <!-- Main Content -->
    <main id="main-column" class="max-w-3xl bg-white px-5 py-0 pb-5 flex-grow ml-8 shadow-sm rounded-lg">
      
      <div class="flex justify-end mb-4 pt-4">
        <a target="_blank" href="https://github.com/band/bashlibs/edit/main/WhatIsDifferent.md" 
           class="inline-block px-3 py-1 bg-blue-100 border border-blue-200 text-gray-700 text-sm font-trebuchet rounded-lg hover:bg-blue-200 transition-colors no-underline">
          Edit on GitHub
        </a>
      </div>
      
      
      <div class="prose prose-gray max-w-none">
        <h1>What Is Different Here</h1>
<p>The primary subject is zsh or bash shell libraries, how to organize and maintain them. Some preliminaries on the shell function itself are included. A claim made here is that the function is the building block of any shell application.</p>
<p>Here is the <a href="./Development.html">Table of Contents</a></p>
<h2>New Concepts</h2>
<!-- begin concept -->
<ol>
<li>
<p>We focus on shell function libraries, collections of functions,
and how collections are named and gathered into libraries.  Small
functions are often born on the command line and tested as individual
<code>file functions</code>.  Once tested, functions are appended to an appropriate library.</p>
</li>
<li>
<p>This is the next to last place you will find any mention of a
<code>shell script</code> since we are working with shell functions and their
collections. Thus an individual high-level function may be treated
like an <code>app</code>. TODO: clarify the definitions and use of these terms; e.g., "app". cf. <a class="wikilink" href="/bashlibs/documentConventions.html">documentConventions</a></p>
</li>
<li>
<p>The shell <code>pretty printer</code> facility, the <strong>declare</strong>
built-in command with the minus <code>f</code> flag, thusly:</p>
<pre><code>  $ declare -f  some_function 
</code></pre>
<p>formats the shell syntax in a standard and consistent manner,
highlighting the decision, looping syntax, consistent function
naming (note: <code>zsh</code> and <code>bash</code> formatting differs w.r.t. the opening brace "{"). <code>declare -f</code>does not display sharp ("#") comments, hence use of the null-command
format comment.</p>
</li>
<li>
<p>A colon <strong>( : )</strong>, a <code>null-command</code> may be used as a
shell function comment. In these pages it is the preferred shell comment. TODO: add nuance of using "#" for certain kinds of contents.</p>
</li>
<li>
<p>The null command has useful default properties, whose conditions
require respect for its limitations.  The null command opens the
door to three previously unrealized features in shell programming,
namely:</p>
<pre><code> the `shdoc` -- think javadoc, pydoc in those languages,
 an `abstract` -- the first line of the shdoc, 
 and the `tag` -- where this todo is a sample
</code></pre>
<p>An example of a tag-line:</p>
<pre><code> : todo: factor this function into three parts; 
</code></pre>
<p>The null command deserves an <a class="wikilink" href="/bashlibs/TheNullCommand.html">entire chapter</a>.</p>
</li>
<li>
<p>A <code>smart file</code> is a function returning an object, such as a file
or directory, another function, or a list of these. An example</p>
<pre><code>`smartpair () { ${*:-echo} $HOME/lib/{smart,pair}; }`
</code></pre>
<p>whose default behavior returns the names of two files or directories,</p>
<pre><code> $ smartpair
 /Users/home/lib/smart
 /Users/home/lib/pair
</code></pre>
<p>or with an argument:</p>
<pre><code> $ smartpair ls -l 

 -rw-r--r--  1 home  staff  0 Apr  6 12:24 /Users/home/lib/pair

 /Users/home/lib/smart:
 total 0
 -rw-r--r--  1 home  staff  0 Apr  6 12:34 bar
 -rw-r--r--  1 home  staff  0 Apr  6 12:34 foo
</code></pre>
</li>
<li>
<p>A <code>family</code> is a collection of functions sharing a naming
convention:</p>
<pre><code> {fam}_{sub}
</code></pre>
<p>where the the "fam" is the family name and the "sub" is a unique
sub-function in the family.  The family name may also be a function.
The <em>backup</em> family is one such.</p>
<p>Many sub-function names are hardly uniquely. Such are <em>init, help,
test, doc,</em> and <em>list</em>.  Sub-names may occasionally use a sub name.
For example, <em>fam_sub_test</em>.  A family of functions are typically
all found in the same library.</p>
</li>
<li>
<p>While promoting shell libraries, where a library is a collection of
functions in a file, there are two uses for a single function per
file, called a <code>function file</code>.  A [function database] of all
working functions is built in parallel to the development and
run-time function libraries. The database is little more than
library-named directories with a file per function in those
directories.</p>
</li>
</ol>
<pre><code>	
</code></pre>
<h2>Applications</h2>
<p>Within the collection of libraries, two applications stand out.</p>
<p>One, <code>backup</code> is expressed in a single function, with its own
collection of supporting functions.  It does just that: backup files
of any type. Here as <a href="./Backup.html">The Only Backup You'll Ever Need</a>.
Its use promotes a <a href="./SimpleVersion.html">Simple Versioning</a> system.</p>
<p>The other application is a text-file based database which I'm pleased
to have used for decades.  It's named <a href="./UnixRelationalDB.html">/RDB</a>,
"slashRDB".</p>
<p>Another facet of my work is a set of tools to convert collections of
functions into an application.  For example, the calling tree of the
backup function is on the order of 40 functions. Collecting those into
an application means rounding up all the subordinate functions into a
single file where the various entry points are accessible in one <code>app</code>
whose opening line is the familiar <code>sh-bang</code>.</p>
<h2>Reference</h2>
<ul>
<li>abstract</li>
<li>family</li>
<li>file function</li>
<li>null-command</li>
<li>pretty printer</li>
<li>shell script</li>
<li>shdoc</li>
<li>smart file</li>
<li>tag</li>
</ul>
<h2>Definition</h2>

      </div>
      
      
      <hr class="my-6 border-gray-300">
      <div>
        <h4 class="text-lg font-semibold font-trebuchet text-gray-700 mb-3">Pages that link to this page</h4>
        <ul class="list-disc pl-5 space-y-1">
          
          <li><a href="/bashlibs/ndx-root.html" class="text-blue-600 hover:text-blue-800 transition-colors">ndx-root</a></li>
          
        </ul>
      </div>
      
    </main>
  </div>
  <script src="/bashlibs/markpub_static/js/script.js"></script>
  
  <footer class="bg-gray-100 py-8 mt-12">
  <div class="text-center text-gray-600 space-y-1">
    
    <div><strong class="font-semibold text-gray-800">Bash Shell Libraries</strong> by Martin J. McGowan, III and William L. Anderson.</div>
    
    
    <div>Central repository at <a href="https://github.com/band/bashlibs">bashlibs</a>.</div>
    
    
    <div>Licensed under <a href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.</div>
    
    <div class="text-sm italic">Site last updated on Tuesday, January 27, 2026 at 20:49 UTC.</div>
  </div>
</footer>
</body>
</html>